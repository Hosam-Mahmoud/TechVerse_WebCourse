<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Dev | ุฑุญูุชู ุงูุงุญุชุฑุงููุฉ ูุชุทููุฑ ุงูููุจ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;500;700&display=swap" rel="stylesheet">
    
    <!-- CodeMirror CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/theme/one-dark.min.css">

    <style>
        /* CSS Variables for Theming */
        :root {
            --bg-color: #f4f7f6;
            --container-bg: #ffffff;
            --text-color: #333;
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --accent-color: #e74c3c;
            --border-color: #e0e0e0;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            --transition: all 0.3s ease;
            --gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        [data-theme="dark"] {
            --bg-color: #121212;
            --container-bg: #1e1e1e;
            --text-color: #e0e0e0;
            --primary-color: #5dade2;
            --secondary-color: #58d68d;
            --border-color: #333;
            --shadow: 0 4px 15px rgba(0, 0, 0, 0.5);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', 'Segoe UI', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: var(--transition);
            line-height: 1.7;
        }

        .container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 20px;
        }

        /* --- NEW PROFESSIONAL HEADER --- */
        .main-header {
            background: var(--gradient);
            color: white;
            padding: 60px 25px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            text-align: center;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .main-header::before {
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .header-content {
            position: relative;
            z-index: 1;
        }

        .main-header h1 {
            font-size: 3rem;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .main-header p {
            font-size: 1.3rem;
            max-width: 800px;
            margin: 0 auto 20px auto;
            opacity: 0.9;
        }

        .header-creator {
            font-size: 1rem;
            opacity: 0.8;
            margin-top: 20px;
            font-style: italic;
        }

        .header-creator strong {
            font-weight: 700;
            font-style: normal;
        }

        .controls {
            position: absolute;
            top: 20px;
            left: 20px;
            display: flex;
            gap: 15px;
            z-index: 2;
        }

        .controls button {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            font-size: 1.5rem;
            color: white;
            cursor: pointer;
            transition: var(--transition);
            padding: 10px;
            border-radius: 50%;
        }

        .controls button:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }

        /* Content Sections */
        .content-section {
            background-color: var(--container-bg);
            padding: 25px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            margin-bottom: 30px;
        }

        .content-section h2 {
            color: var(--primary-color);
            margin-bottom: 20px;
            border-bottom: 2px solid var(--primary-color);
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Module Cards */
        .module-card {
            background-color: var(--bg-color);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
            transition: var(--transition);
        }

        .module-card:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow);
        }

        .module-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .module-title {
            font-size: 1.3rem;
            color: var(--primary-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .module-progress {
            width: 100%;
            height: 8px;
            background-color: var(--border-color);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .module-progress-bar {
            height: 100%;
            background: var(--gradient);
            width: 0%;
            transition: width 0.5s ease;
        }

        .module-toggle {
            background: none;
            border: none;
            font-size: 1.2rem;
            color: var(--primary-color);
            cursor: pointer;
            transition: var(--transition);
        }

        .module-toggle:hover {
            transform: rotate(180deg);
        }

        .module-content {
            display: none;
        }

        .module-content.show {
            display: block;
        }
        
        /* --- LESSON CARD STYLES --- */
        .lesson-card {
            background-color: var(--container-bg);
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            margin-bottom: 20px;
            overflow: hidden;
            transition: var(--transition);
            border: 1px solid var(--border-color);
        }

        .lesson-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        .lesson-card.completed {
            border-color: var(--secondary-color);
            background-color: #eafaf1;
        }

        [data-theme="dark"] .lesson-card.completed {
            background-color: #1a3d2e;
        }

        .lesson-header {
            background-color: var(--bg-color);
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .lesson-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .lesson-links {
            display: flex;
            gap: 10px;
        }

        .lesson-link-btn {
            padding: 8px 12px;
            border-radius: 6px;
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .lesson-link-btn.video {
            background-color: #e74c3c;
            color: white;
        }
        .lesson-link-btn.video:hover {
            background-color: #c0392b;
        }
        
        .lesson-link-btn.quiz {
            background-color: var(--primary-color);
            color: white;
        }
        .lesson-link-btn.quiz:hover {
            background-color: #2980b9;
        }

        .lesson-body {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out, padding 0.3s ease-out;
            padding: 0 20px;
        }
        
        .lesson-body.show {
            max-height: 3000px; /* Increased value to accommodate more content */
            transition: max-height 0.5s ease-in, padding 0.3s ease-in;
            padding: 20px;
        }
        
        .lesson-tasks {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .task-item {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 10px;
            background-color: var(--bg-color);
            border-radius: 8px;
            border: 1px solid var(--border-color);
            cursor: pointer;
            transition: var(--transition);
        }

        .task-item:hover {
            background-color: var(--border-color);
        }
        
        .task-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
        }
        
        .task-item i {
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .task-section {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .task-header {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 1.1rem;
            font-weight: bold;
            color: var(--primary-color);
        }

        .task-description {
            line-height: 1.8;
            color: var(--text-color);
            font-size: 1rem;
        }
        
        .task-description ul {
            padding-right: 20px;
            margin-top: 10px;
        }
        
        .task-description li {
            margin-bottom: 8px;
        }
        
        /* --- LESSON NOTES SECTION --- */
        .lesson-notes-section {
            margin-top: 20px;
            padding: 15px;
            background-color: rgba(52, 152, 219, 0.05);
            border-radius: 8px;
            border: 1px solid rgba(52, 152, 219, 0.2);
            display: block !important; /* Ensure notes section is always visible */
            visibility: visible !important;
            opacity: 1 !important;
            height: auto !important;
        }
        
        .lesson-notes-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .lesson-notes-textarea {
            width: 100%;
            min-height: 100px;
            padding: 12px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: var(--container-bg);
            color: var(--text-color);
            font-family: 'Tajawal', sans-serif;
            resize: vertical;
            transition: var(--transition);
        }
        
        .lesson-notes-textarea:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 2px rgba(52, 152, 219, 0.2);
        }

        /* --- PROFESSIONAL CODE PLAYGROUND STYLES --- */
        .playground-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            height: 70vh;
        }

        .editor-pane, .output-pane {
            display: flex;
            flex-direction: column;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: var(--shadow);
            border: 1px solid var(--border-color);
        }

        .pane-header {
            background-color: var(--bg-color);
            padding: 10px 15px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .pane-header h3 {
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-color);
            margin: 0;
        }

        .editor-controls {
            display: flex;
            gap: 5px;
            margin-right: auto;
        }
        
        .editor-tab {
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.8rem;
            font-weight: 500;
            color: var(--text-color);
            background-color: transparent;
            border: none;
            cursor: pointer;
            transition: var(--transition);
        }

        .editor-tab.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        .editor-wrapper {
            flex-grow: 1;
            overflow: hidden;
        }

        .CodeMirror {
            height: 100%;
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 14px;
            direction: ltr; /* Force LTR for code */
        }

        .output-wrapper {
            flex-grow: 1;
            background-color: white;
        }

        #output-frame {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* --- IMPROVED RESPONSIVE DESIGN --- */
        @media (max-width: 1024px) {
            .container {
                padding: 15px;
            }
            .main-header h1 { font-size: 2.5rem; }
            .main-header p { font-size: 1.2rem; }
        }

        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            .main-header {
                padding: 40px 20px;
            }
            .main-header h1 { 
                font-size: 2.2rem; 
                margin-bottom: 15px;
            }
            .main-header p { 
                font-size: 1.1rem; 
                margin-bottom: 15px;
            }
            .header-creator { 
                font-size: 0.9rem; 
                margin-top: 15px;
            }
            .controls {
                position: static;
                justify-content: center;
                margin-top: 15px;
                margin-bottom: 10px;
            }
            .lesson-tasks {
                grid-template-columns: 1fr;
            }
            .playground-container {
                grid-template-columns: 1fr;
                height: auto;
            }
            .editor-pane, .output-pane {
                height: 50vh;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 8px;
            }
            .main-header {
                padding: 30px 15px;
            }
            .main-header h1 { 
                font-size: 1.8rem; 
                margin-bottom: 10px;
            }
            .main-header p { 
                font-size: 1rem; 
                margin-bottom: 10px;
            }
            .header-creator { 
                font-size: 0.85rem; 
                margin-top: 10px;
            }
            .content-section {
                padding: 15px;
            }
            .content-section h2 {
                font-size: 1.2rem;
                margin-bottom: 15px;
            }
            .module-card, .lesson-card {
                margin-bottom: 15px;
            }
            .module-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            .module-toggle {
                align-self: flex-end;
            }
            .lesson-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 10px;
            }
            .lesson-links {
                width: 100%;
                justify-content: center;
                margin-top: 10px;
            }
            .lesson-link-btn {
                font-size: 0.8rem;
                padding: 6px 10px;
            }
            .task-item {
                padding: 12px;
            }
            .task-item i {
                font-size: 1.1rem;
            }
            .lesson-notes-textarea {
                min-height: 80px;
                font-size: 0.9rem;
            }
            .editor-pane, .output-pane {
                height: 40vh;
            }
            .pane-header {
                padding: 8px 12px;
            }
            .pane-header h3 {
                font-size: 0.9rem;
            }
            .editor-tab {
                font-size: 0.7rem;
                padding: 4px 8px;
            }
            .CodeMirror {
                font-size: 12px;
            }
            
            /* Specific fix for mobile notes section */
            .lesson-body.show {
                max-height: none !important;
                height: auto !important;
                overflow: visible !important;
            }
            
            .lesson-notes-section {
                display: block !important;
                visibility: visible !important;
                opacity: 1 !important;
                height: auto !important;
                margin-top: 20px !important;
                padding: 15px !important;
            }
        }
    </style>
</head>
<body>

    <div class="container">
 <header class="main-header">
            <div class="controls">
                <button id="darkModeToggle" title="ุชุจุฏูู ุงููุถุน ุงููููู"><i class="fas fa-moon"></i></button>
            </div>
            <div class="header-content">
                <h1><i class="fas fa-rocket"></i> Web Dev / TechVerse Academy </h1>
                <p>
                    ุฃููุงู ุจู ูู ุฑุญูุชู ุงูุงุญุชุฑุงููุฉ ูุชุทููุฑ ุงูููุจ! ูุฏููุง ูุงุถุญ:  ุจููุงูุฉ ูุฐุง ุงูููุฑุณุ ุณุชููู ูุงุฏุฑูุง ุนูู ุจูุงุก ูููุน ููุจ ุซุงุจุช ุงุญุชุฑุงูู ุจุงููุงูู ูู ุงูุตูุฑ.

                </p>
                <div class="header-creator">
                    <p>ุงู ุดุงุก ุงููู ููุฎูุต ูุจู ุงูุชุญุงูุงุช ุงููุงููู ูููุนูู ุจูุชู ุงูุชุฑููุฒ ูู ุงูููุฑุณ ุนูู ุงููุญุชูู ุงูู ุจูุงุฎุฏู ุณูุงุก ูู ุงูุณููุดู ุงู ุงููุญุงุถุฑุฉ </p>
                    <p>ููุดุฆ ุงูููุฑุณ: <strong>Hossam Mahmoud</strong></p>
                </div>
            </div>
        </header>

        <section class="content-section">
            <h2><i class="fas fa-book-open"></i> ุฎุทุฉ ุงูููุฑุณ</h2>
            <div id="lessonsList">
                <!-- Lessons will be generated by JavaScript -->
            </div>
        </section>

        <!-- Professional Code Playground Section -->
        <section class="content-section" id="codePlayground">
            <h2><i class="fas fa-code"></i> ูุญุฑุฑ ุงูุฃููุงุฏ </h2>
            <div class="playground-container">
                <div class="editor-pane">
                    <div class="pane-header">
                        <div class="-editor-controls">
                            <button class="editor-tab active" data-mode="htmlmixed">HTML</button>
                            <button class="editor-tab" data-mode="css">CSS</button>
                        </div>
                        <h3><i class="fas fa-code"></i> ุงููุญุฑุฑ</h3>
                    </div>
                    <div class="editor-wrapper">
                        <textarea id="code-editor"></textarea>
                    </div>
                </div>
                <div class="output-pane">
                    <div class="pane-header">
                        <h3><i class="fas fa-eye"></i> ุงููุงุชุฌ ุงููุจุงุดุฑ</h3>
                    </div>
                    <div class="output-wrapper">
                        <iframe id="output-frame"></iframe>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- CodeMirror JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/htmlmixed/htmlmixed.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/css/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/mode/xml/xml.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/addon/comment/comment.min.js"></script>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // --- APP STATE & CONFIGURATION ---
    const app = {
        modules: [
            {
                id: 'm1',
                title: 'ุงููุฑุญูุฉ ุงูุฃููู: ุฃุณุงุณูุงุช ุงูููุจ ู HTML',
                icon: 'fa-globe',
                lessons: [
                    { 
                        id: 'l1', 
                        title:'ุงูุฏุฑุณ ุงูุฃูู: ุจูุงุก ุงูููุจ', 
                        videoLink: 'https://youtu.be/BOaNDbiLsCQ?si=wADqNLqJ61supu7S',
                        quizLink: 'https://docs.google.com/forms/d/e/1FAIpQLSdma7xpSyYH2Stw0hvj-rdrWbNJaeD6sh4SeAQVYxqPwLm74g/viewform?usp=sharing&ouid=105855515034096544909',
                        content: `
                            <p>ูู ูุฐุง ุงูุฏุฑุณุ ุณูุจุฏุฃ ุฑุญูุชูุง ูู ุงูููุทุฉ ุงูุตูุฑูุฉ. ุณูุชุนุฑู ุนูู ุงูุนูุงูู ุงูุฎููุฉ ุงูุชู ุชุฌุนู ุงูุฅูุชุฑูุช ูุนููุ ููููู ุงููุฑู ุจูู ุงูุฅูุชุฑูุช ูุงูููุจุ ููุณุชูุดู ุฃุฏูุงุฑ ุงููุทูุฑูู. ุจุนุฏ ุฐููุ ุณูุบูุณ ุฃูุฏููุง ูู ููุฏ HTML ูุฃูู ูุฑุฉ ูููุชุจ ุฃูู ุตูุญุฉ ููุจ ููุง.</p>
                            <p><strong>๐ ูุงุฐุง ุณุชุชุนูู:</strong></p>
                            <ul>
                                <li><strong>ุงูุฅูุชุฑูุช ููุงุจู ุงูููุจ:</strong> ููู ุงููุฑู ุงูุฌููุฑู ุจูู ุงูููููููู.</li>
                                <li><strong>ููู ูุนูู ูู ุดูุก:</strong> ุฏูุฑ ุงูุณูุฑูุฑุงุชุ ุงููุชุตูุญุงุชุ ูุจุฑูุชูููู HTTP.</li>
                                <li><strong>Front-End vs. Back-End:</strong> ูุง ูู ุฏูุฑ ูู ููููุง ูู ุจูุงุก ูููุน.</li>
                                <li><strong>ูุบุฉ HTML:</strong> ููุฏูุฉ ุฅูู ูุบุฉ ุชุฑููุฒ ุงููุตูุต ุงูุชุดุนุจูุฉ ูููููุฉ ูุชุงุจุฉ ุฃูู ุตูุญุฉ.</li>
                                <li><strong>ุงููููู ุงูุฃุณุงุณู:</strong> ุงูุนูุงุตุฑ ุงูุฃุณุงุณูุฉ ุงูุชู ูุง ุบูู ุนููุง ูู ุฃู ุตูุญุฉ HTML.</li>
                            </ul>
                            <p>ุจุญููู ููุงูุฉ ูุฐุง ุงูุฏุฑุณุ ุณุชููู ูุฏูู ููุฑุฉ ูุงุถุญุฉ ุนู ุงูุตูุฑุฉ ุงููุจูุฑุฉ ูุณุชููู ูุฏ ูุชุจุช ุฃูู ุณุทุฑ ูู ููุฏ ุงูููุจ ุงูุฎุงุต ุจู!</p>
                        `
                    },
                    { 
                        id: 'l2', 
                        title: 'ุงูุฏุฑุณ ุงูุซุงูู: ุชูุณูู ุงููุตูุต ', 
                        videoLink: 'https://youtu.be/BGgzsRbvaC8?si=o-Mtd76pQtW5xJIF',
                        quizLink: 'https://docs.google.com/forms/d/e/1FAIpQLSfiYZyHEyMFYPViGpAUYbjGZEU9NxIFba25uahlRY6gKQ99pQ/viewform?usp=publish-editor',
                        content: `
                            <p>ุงููุต ูู ุฌููุฑ ุฃู ูููุน ููุจ. ูู ูุฐุง ุงูุฏุฑุณุ ุณูุชุนูู ูู ููููุฉ ุชูุณูู ุงููุตูุต ูุฌุนููุง ุฃูุซุฑ ุฌุงุฐุจูุฉ ูุณูููุฉ ูู ุงููุฑุงุกุฉ ุจุงุณุชุฎุฏุงู HTML. ุณูุชุนูู ููููุฉ ุฅูุดุงุก ุนูุงููู ูุฎุชููุฉ ุงูุฃุญุฌุงูุ ูุชูุณูู ุงูููุฑุงุชุ ูุฅุถุงูุฉ ุงูุชุฃููุฏ ุนูู ุงููููุงุช ุงููููุฉุ ูุบูุฑ ุฐูู ุงููุซูุฑ.</p>
                            <p><strong>โจ ูุงุฐุง ุณุชุชุนูู:</strong></p>
                            <ul>
                                <li><strong>ุงูุนูุงููู (h1 - h6):</strong> ููููุฉ ุจูุงุก ูููู ูุฑูู ููุญุชูุงู.</li>
                                <li><strong>ุชูุณูู ุงููุต:</strong> ุงุณุชุฎุฏุงู <code>&lt;b&gt;</code>, <code>&lt;strong&gt;</code>, <code>&lt;i&gt;</code>, <code>&lt;em&gt;</code> ููุชูููุฒ.</li>
                                <li><strong>ุงูุชุจุงุณุงุช ูุฃููุงุฏ:</strong> ููููุฉ ุนุฑุถ ุงูุงูุชุจุงุณุงุช ูููุชุทูุงุช ุงูุฃููุงุฏ ุจุดูู ุตุญูุญ.</li>
                                <li><strong>ูุตูุต ุฃุฎุฑู:</strong> ุงุณุชุฎุฏุงู <code>&lt;sub&gt;</code>, <code>&lt;sup&gt;</code>, <code>&lt;mark&gt;</code> ูุชูุณููุงุช ูุชูุฏูุฉ.</li>
                            </ul>
                            <p>ุจุนุฏ ูุฐุง ุงูุฏุฑุณุ ุณุชููู ูุงุฏุฑูุง ุนูู ุชุญููู ุฃู ูุต ุนุงุฏู ุฅูู ุตูุญุฉ ููุจ ููุธูุฉ ูุฌูููุฉ.</p>
                        `
                    },
                    { 
                        id: 'l3', 
                        title: 'ุงูุฏุฑุณ ุงูุซุงูุซ: ุงูุตูุฑ ูุงูุฑูุงุจุท', 
                        videoLink: 'https://youtu.be/pKAgKV00rZs?si=DRv1M2Oenf5_Gqmd',
                        quizLink: 'https://docs.google.com/forms/d/e/1FAIpQLSfXbKfhz4vMs6WAy8CnJSOFL4vUobRykJyCPSvw-SzoTvEahw/viewform?usp=publish-editor',
                        content: `
                            <p>ูู ูุฐุง ุงูุฏุฑุณุ ุณูุชุนูู ููููุฉ ุฅุถุงูุฉ ุงูุตูุฑ ูุงูุฑูุงุจุท ุฅูู ุตูุญุงุช ุงูููุจ ุงูุฎุงุตุฉ ุจูุง. ุงูุตูุฑ ูุงูุฑูุงุจุท ูู ุฃูู ุงูุนูุงุตุฑ ูู ุฃู ูููุน ููุจุ ุญูุซ ุชุฌุนู ุงููุญุชูู ุฃูุซุฑ ุชูุงุนููุฉ ูุฌุงุฐุจูุฉ.</p>
                            <p><strong>๐ผ๏ธ ูุงุฐุง ุณุชุชุนูู ุนู ุงูุตูุฑ:</strong></p>
                            <ul>
                                <li><strong>ุฅุฏุฑุงุฌ ุงูุตูุฑ:</strong> ุงุณุชุฎุฏุงู ูุณู <code>&lt;img&gt;</code> ูุน ุฎุตุงุฆุตู ุงูุฃุณุงุณูุฉ.</li>
                                <li><strong>ูุตุฏุฑ ุงูุตูุฑุฉ (src):</strong> ุชุญุฏูุฏ ูุณุงุฑ ุงูุตูุฑุฉ.</li>
                                <li><strong>ูุต ุจุฏูู (alt):</strong> ุฅุถุงูุฉ ูุต ูุธูุฑ ูู ุญุงูุฉ ุนุฏู ุชุญููู ุงูุตูุฑุฉ.</li>
                                <li><strong>ุฃุจุนุงุฏ ุงูุตูุฑุฉ:</strong> ุชุญุฏูุฏ ุนุฑุถ ูุงุฑุชูุงุน ุงูุตูุฑุฉ ุจุงุณุชุฎุฏุงู <code>width</code> ู <code>height</code>.</li>
                            </ul>
                            <p><strong>๐ ูุงุฐุง ุณุชุชุนูู ุนู ุงูุฑูุงุจุท:</strong></p>
                            <ul>
                                <li><strong>ุงูุฑูุงุจุท ุงูุชุดุนุจูุฉ (hyperlinks):</strong> ุงุณุชุฎุฏุงู ูุณู <code>&lt;a&gt;</code> ูุฅูุดุงุก ุฑูุงุจุท.</li>
                                <li><strong>ุงูุฑูุงุจุท ุงูุฎุงุฑุฌูุฉ:</strong> ุฅูุดุงุก ุฑูุงุจุท ูููุงูุน ุฃุฎุฑู.</li>
                                <li><strong>ุงูุฑูุงุจุท ุงูุฏุงุฎููุฉ:</strong> ุฅูุดุงุก ุฑูุงุจุท ูุตูุญุงุช ุฏุงุฎู ููุณ ุงููููุน.</li>
                                <li><strong>ุฑูุงุจุท ุงูุฅูููู:</strong> ุงุณุชุฎุฏุงู <code>mailto:</code> ูุฅูุดุงุก ุฑูุงุจุท ูุฅุฑุณุงู ุฑุณุงุฆู ุจุฑูุฏ ุฅููุชุฑููู.</li>
                                <li><strong>ุฑูุงุจุท ุงูุชููููู:</strong> ุงุณุชุฎุฏุงู <code>tel:</code> ูุฅูุดุงุก ุฑูุงุจุท ูุฅุฌุฑุงุก ููุงููุงุช ูุงุชููุฉ.</li>
                                <li><strong>ุงูุฑูุงุจุท ุฏุงุฎู ุงูุตูุญุฉ:</strong> ุฅูุดุงุก ุฑูุงุจุท ููุงูุชูุงู ุฅูู ุฃุฌุฒุงุก ูุฎุชููุฉ ูู ููุณ ุงูุตูุญุฉ.</li>
                            </ul>
                            <p>ุจุนุฏ ูุฐุง ุงูุฏุฑุณุ ุณุชููู ูุงุฏุฑูุง ุนูู ุฅูุดุงุก ุตูุญุงุช ููุจ ุชูุงุนููุฉ ุชุญุชูู ุนูู ุตูุฑ ูุฑูุงุจุท ูุชููุนุฉ.</p>
                        `
                    },
                    { 
                        id: 'l4', 
                        title: 'ุงูุฏุฑุณ ุงูุฑุงุจุน: ุงูููุงุฆู ูุงูุฌุฏุงูู', 
                        videoLink: 'https://youtu.be/zEZpuEQ_zs4?si=2bfXOTtli8fOEFOh',
                        quizLink: 'https://docs.google.com/forms/d/e/1FAIpQLSfEObnDWm5oq5vVMtllwy5h8yWjabA5CfiHQIQtc09WA2pVdQ/viewform?usp=publish-editor',
                        content: `
                            <p>ูู ูุฐุง ุงูุฏุฑุณุ ุณูุชุนูู ุนู ุนูุตุฑูู ููููู ูู HTML ูุชูุธูู ูุนุฑุถ ุงูุจูุงูุงุช ุจุดูู ููุธู: ุงูููุงุฆู ูุงูุฌุฏุงูู. ุงูููุงุฆู ุชุณูุญ ููุง ุจุนุฑุถ ูุฌููุนุฉ ูู ุงูุนูุงุตุฑ ุจุดูู ููุธูุ ุณูุงุก ูุงูุช ูุฑุชุจุฉ ุฃู ุบูุฑ ูุฑุชุจุฉ. ุฃูุง ุงูุฌุฏุงููุ ูุชุณูุญ ููุง ุจุนุฑุถ ุงูุจูุงูุงุช ูู ุตููู ูุฃุนูุฏุฉุ ููุง ูุณูู ูุฑุงุกุชูุง ูููุงุฑูุชูุง.</p>
                            <p><strong>๐ ูุงุฐุง ุณุชุชุนูู ุนู ุงูููุงุฆู:</strong></p>
                            <ul>
                                <li><strong>ุงูููุงุฆู ุบูุฑ ุงููุฑุชุจุฉ (ul):</strong> ุงุณุชุฎุฏุงู ูุณู <code>&lt;ul&gt;</code> ูุฅูุดุงุก ูุงุฆูุฉ ููุทูุฉ.</li>
                                <li><strong>ุงูููุงุฆู ุงููุฑุชุจุฉ (ol):</strong> ุงุณุชุฎุฏุงู ูุณู <code>&lt;ol&gt;</code> ูุฅูุดุงุก ูุงุฆูุฉ ูุฑููุฉ.</li>
                                <li><strong>ูุงุฆูุฉ ุงููุตู (dl):</strong> ุงุณุชุฎุฏุงู ูุณูู <code>&lt;dl&gt;</code>, <code>&lt;dt&gt;</code>, ู <code>&lt;dd&gt;</code> ูุฅูุดุงุก ูุงุฆูุฉ ูู ุงููุตุทูุญุงุช ูุฃูุตุงููุง.</li>
                                <li><strong>ุงูููุงุฆู ุงููุชุฏุงุฎูุฉ:</strong> ููููุฉ ุฅูุดุงุก ููุงุฆู ุฏุงุฎู ููุงุฆู ุฃุฎุฑู.</li>
                            </ul>
                            <p><strong>๐ ูุงุฐุง ุณุชุชุนูู ุนู ุงูุฌุฏุงูู:</strong></p>
                            <ul>
                                <li><strong>ุฅูุดุงุก ุฌุฏูู:</strong> ุงุณุชุฎุฏุงู ูุณู <code>&lt;table&gt;</code> ูุฅูุดุงุก ุฌุฏูู.</li>
                                <li><strong>ุงูุตููู:</strong> ุงุณุชุฎุฏุงู ูุณู <code>&lt;tr&gt;</code> ูุฅูุดุงุก ุตููู ูู ุงูุฌุฏูู.</li>
                                <li><strong>ุงูุฃุนูุฏุฉ:</strong> ุงุณุชุฎุฏุงู ูุณู <code>&lt;td&gt;</code> ูุฅูุดุงุก ุฎูุงูุง ุงูุจูุงูุงุช ูู ุงูุฌุฏูู.</li>
                                <li><strong>ุงูุฎูุงูุง ุงูุฑุฃุณูุฉ:</strong> ุงุณุชุฎุฏุงู ูุณู <code>&lt;th&gt;</code> ูุฅูุดุงุก ุฎูุงูุง ุงูุนูุงููู ูู ุงูุฌุฏูู.</li>
                                <li><strong>ุฏูุฌ ุงูุฎูุงูุง:</strong> ุงุณุชุฎุฏุงู ุฎุตุงุฆุต <code>colspan</code> ู <code>rowspan</code> ูุฏูุฌ ุงูุฎูุงูุง.</li>
                                <li><strong>ุชูุณูู ุงูุฌุฏุงูู:</strong> ููููุฉ ุชูุณูู ุงูุฌุฏุงูู ุจุงุณุชุฎุฏุงู CSS.</li>
                            </ul>
                            <p>ุจุนุฏ ูุฐุง ุงูุฏุฑุณุ ุณุชููู ูุงุฏุฑูุง ุนูู ุฅูุดุงุก ููุงุฆู ูุฌุฏุงูู ููุธูุฉ ููุนุงูุฉ ูู ุตูุญุงุช ุงูููุจ ุงูุฎุงุตุฉ ุจู.</p>
                        `
                    },
                    { 
                        id: 'l5', 
                        title: 'ุงูุฏุฑุณ ุงูุฎุงูุณ: ุงูููุงุฐุฌ (Forms)', 
                        videoLink: 'https://youtu.be/4grm8s4ZbEQ?si=Mc3_-sQMqq_N_fKk',
                        quizLink: 'https://docs.google.com/forms/d/e/1FAIpQLSe8qYvbChPJL6yfL_frp_6HQf2G0-Fsuh-4x4DaceO32cxRLw/viewform',
                        content: `
                            <p>ุงูููุงุฐุฌ (Forms) ูู ูุณููุฉ ุฃุณุงุณูุฉ ููุชูุงุนู ูุน ุงููุณุชุฎุฏููู ุนูู ุงูููุจ. ุชุณูุญ ููุง ุจุฌูุน ุงูุจูุงูุงุช ูู ุงููุณุชุฎุฏูููุ ูุซู ูุนูููุงุช ุงูุชุณุฌููุ ุขุฑุงุก ุงููุณุชุฎุฏูููุ ุฃู ุทูุจุงุช ุงูุดุฑุงุก. ูู ูุฐุง ุงูุฏุฑุณุ ุณูุชุนูู ููููุฉ ุฅูุดุงุก ููุงุฐุฌ ุชูุงุนููุฉ ุจุงุณุชุฎุฏุงู HTML.</p>
                            <p><strong>๐ ูุงุฐุง ุณุชุชุนูู:</strong></p>
                            <ul>
                                <li><strong>ุนูุตุฑ form:</strong> ููููุฉ ุฅูุดุงุก ูููุฐุฌ ุจุงุณุชุฎุฏุงู ูุณู <code>&lt;form&gt;</code> ูุชุญุฏูุฏ ุงููุฌูุฉ ูุงูุทุฑููุฉ ูุฅุฑุณุงู ุงูุจูุงูุงุช.</li>
                                <li><strong>ุงูุญููู input:</strong> ุฃููุงุน ูุฎุชููุฉ ูู ุญููู ุงูุฅุฏุฎุงู ูุซู ุงููุตูุตุ ุงูุฃุฑูุงูุ ูููุงุช ุงููุฑูุฑุ ูุงูุจุฑูุฏ ุงูุฅููุชุฑููู.</li>
                                <li><strong>ุงุฎุชูุงุฑ ูุชุนุฏุฏ radio:</strong> ููููุฉ ุฅูุดุงุก ุฃุฒุฑุงุฑ ุงูุงุฎุชูุงุฑ ุงูุชู ุชุณูุญ ูููุณุชุฎุฏู ุจุงุฎุชูุงุฑ ุฎูุงุฑ ูุงุญุฏ ููุท ูู ูุฌููุนุฉ.</li>
                                <li><strong>ูุฑุจุนุงุช ุงูุชุญุฏูุฏ checkbox:</strong> ููููุฉ ุฅูุดุงุก ูุฑุจุนุงุช ุงูุชุญุฏูุฏ ุงูุชู ุชุณูุญ ูููุณุชุฎุฏู ุจุงุฎุชูุงุฑ ุนุฏุฉ ุฎูุงุฑุงุช.</li>
                                <li><strong>ุงูููุงุฆู select:</strong> ููููุฉ ุฅูุดุงุก ููุงุฆู ููุณุฏูุฉ ุชุณูุญ ูููุณุชุฎุฏู ุจุงุฎุชูุงุฑ ุฎูุงุฑ ูู ูุงุฆูุฉ.</li>
                                <li><strong>ุงููุฑุจุน ุงููุตู textarea:</strong> ููููุฉ ุฅูุดุงุก ูุฑุจุน ูุต ูุชุนุฏุฏ ุงูุฃุณุทุฑ ูุฅุฏุฎุงู ูุตูุต ุทูููุฉ.</li>
                                <li><strong>ุฒุฑ ุงูุฅุฑุณุงู submit:</strong> ููููุฉ ุฅูุดุงุก ุฒุฑ ูุฅุฑุณุงู ุจูุงูุงุช ุงููููุฐุฌ ุฅูู ุงูุฎุงุฏู.</li>
                                <li><strong>ุฑูุน ุงููููุงุช file:</strong> ููููุฉ ุฅูุดุงุก ุญูู ูุฑูุน ุงููููุงุช ูู ุฌูุงุฒ ุงููุณุชุฎุฏู.</li>
                                <li><strong>ุฎุงุตูุฉ name:</strong> ุฃูููุฉ ุฎุงุตูุฉ name ูุชุญุฏูุฏ ุงุณู ูู ุญูู ูู ุงููููุฐุฌ.</li>
                                <li><strong>ุงูู validation ุงูุฃุณุงุณู:</strong> ููููุฉ ุฅุถุงูุฉ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช ุงููุฏุฎูุฉ ุจุงุณุชุฎุฏุงู ุฎุตุงุฆุต HTML5.</li>
                            </ul>
                            <p>ุจุนุฏ ูุฐุง ุงูุฏุฑุณุ ุณุชููู ูุงุฏุฑูุง ุนูู ุฅูุดุงุก ููุงุฐุฌ ุชูุงุนููุฉ ูุฌูุน ุงูุจูุงูุงุช ูู ุงููุณุชุฎุฏููู ุจูุนุงููุฉ.</p>
                        `
                    },
                    { 
                        id: 'l6', 
                        title: 'ุงูุฏุฑุณ ุงูุณุงุฏุณ: ุงูุนูุงุตุฑ ุงููููููุฉ ูุงููุณุงุฆุท', 
                        videoLink: 'https://youtu.be/15xVcn_7JF0?si=r9e5kd9gRqJabPLw',
                        quizLink: 'https://docs.google.com/forms/d/e/1FAIpQLSeAWDGV-LQ0NNLmWFmP6pJ8wqXaZMiodonMInkbQ8qbpP2Vvg/viewform?usp=publish-editor',
                        content: `
                            <p>ูู ูุฐุง ุงูุฏุฑุณุ ุณูุชุนุฑู ุนูู ุงูุนูุงุตุฑ ุงููููููุฉ ูู HTML5 ุงูุชู ุชุณุงุนุฏ ูู ุชูุธูู ุงููุญุชูู ุจุดูู ุฃูุถูุ ุจุงูุฅุถุงูุฉ ุฅูู ููููุฉ ุฅุถุงูุฉ ุงููุณุงุฆุท ุงููุชุนุฏุฏุฉ ูุซู ุงูููุฏูู ูุงูุตูุช ุฅูู ุตูุญุงุช ุงูููุจ. ุณูุชุนูู ุฃูุถุงู ุนู ุจุนุถ ุงูููุงููู ุงููุงูุฉ ูู ุชุทููุฑ ุงูููุจ ูุซู ูุบุฉ ุงูุตูุญุฉ ูุงููุณูู ุงููุตููุฉ ูุจููุฉ ุงููุดุฑูุน.</p>
                            
                            <p><strong>๐๏ธ ุงูุนูุงุตุฑ ุงููููููุฉ (HTML5 Semantic Elements):</strong></p>
                            <ul>
                                <li><strong>header:</strong> ููุซู ุงูุฌุฒุก ุงูุนููู ูู ุงูุตูุญุฉ ุฃู ุงููุณู.</li>
                                <li><strong>nav:</strong> ูุณุชุฎุฏู ููุงุฆูุฉ ุงูุชููู ุงูุฑุฆูุณูุฉ ูู ุงููููุน.</li>
                                <li><strong>section:</strong> ููุซู ูุณูุงู ูู ุงููุญุชูู ูู ุงูุตูุญุฉ.</li>
                                <li><strong>article:</strong> ููุซู ูุญุชูู ูุณุชูู ูููู ุฅุนุงุฏุฉ ุงุณุชุฎุฏุงูู.</li>
                                <li><strong>aside:</strong> ููุซู ุงููุญุชูู ุงูุฌุงูุจู ุงููุฑุชุจุท ุจุงููุญุชูู ุงูุฑุฆูุณู.</li>
                                <li><strong>footer:</strong> ููุซู ุงูุฌุฒุก ุงูุณููู ูู ุงูุตูุญุฉ ุฃู ุงููุณู.</li>
                                <li><strong>main:</strong> ููุซู ุงููุญุชูู ุงูุฑุฆูุณู ุงููุฑูุฏ ูู ุงูุตูุญุฉ.</li>
                                <li><strong>time:</strong> ูุญุฏุฏ ููุชุงู ุฃู ุชุงุฑูุฎุงู ูุนููุงู.</li>
                                <li><strong>figure ู figcaption:</strong> ูุณุชุฎุฏูุงู ูุนุงู ูุนุฑุถ ุงูุตูุฑ ูุน ุดุฑุญ ููุง.</li>
                            </ul>
                            
                            <p><strong>๐ฌ ุงููุณุงุฆุท Media:</strong></p>
                            <ul>
                                <li><strong>video:</strong> ููููุฉ ุฅุถุงูุฉ ููุงุทุน ุงูููุฏูู ุฅูู ุตูุญุงุช ุงูููุจ.</li>
                                <li><strong>audio:</strong> ููููุฉ ุฅุถุงูุฉ ูููุงุช ุงูุตูุช ุฅูู ุตูุญุงุช ุงูููุจ.</li>
                                <li><strong>iframe:</strong> ููููุฉ ุชุถููู ุฎุฑุงุฆุท ูุฃุฏูุงุช ุฎุงุฑุฌูุฉ ูู ุตูุญุงุช ุงูููุจ.</li>
                            </ul>
                            
                            <p><strong>๐ ููุงููู ูุงูุฉ:</strong></p>
                            <ul>
                                <li><strong>Html lang:</strong> ุฃูููุฉ ุชุญุฏูุฏ ูุบุฉ ุงูุตูุญุฉ ููุญุฑูุงุช ุงูุจุญุซ ูุจุฑุงูุฌ ุงููุฑุงุกุฉ ุงูุดุงุดุฉ.</li>
                                <li><strong>Meta Tags:</strong> ููููุฉ ุงุณุชุฎุฏุงู ุงููุณูู ุงููุตููุฉ ูุชุญุณูู SEO ูุชูููุฑ ูุนูููุงุช ุฅุถุงููุฉ ุนู ุงูุตูุญุฉ.</li>
                                <li><strong>ุจููุฉ ุงููุดุฑูุน Folder Structure:</strong> ุฃูุถู ุงูููุงุฑุณุงุช ูุชูุธูู ูููุงุช ุงููุดุฑูุน.</li>
                            </ul>
                            
                            <p>ุจุนุฏ ูุฐุง ุงูุฏุฑุณุ ุณุชููู ูุงุฏุฑูุง ุนูู ุฅูุดุงุก ุตูุญุงุช ููุจ ููุธูุฉ ุจุงุณุชุฎุฏุงู ุงูุนูุงุตุฑ ุงููููููุฉุ ูุฅุถุงูุฉ ุงููุณุงุฆุท ุงููุชุนุฏุฏุฉุ ูุชุทุจูู ุงูููุงููู ุงููุงูุฉ ูู ุชุทููุฑ ุงูููุจ.</p>
                        `
                    }
                ]
            },
            {
                id: 'm2',
                title: 'ุงููุฑุญูุฉ ุงูุซุงููุฉ: ุฃุณุงุณูุงุช CSS ูุชูุณูู ุงูููุจ',
                icon: 'fa-palette',
                lessons: [
                    { 
                        id: 'l7', 
                        title:'ุงูุฏุฑุณ ุงูุฃูู: ููุฏูุฉ ุฅูู CSS ูุชูุณูู ุงููุตูุต', 
                        videoLink: 'https://youtu.be/YJI6533SOiY?si=XL8SvureGEFw7lIo',
                        quizLink: 'https://docs.google.com/forms/d/e/1FAIpQLSeihZZf160F7eFkfTwpabvanTrMNbIL6IiqHZ79ZZqz7sUsuA/viewform?usp=publish-editor',
                        content: `
                            <p>ุฃููุงู ุจู ูู ุนุงูู CSS! ูู ูุฐุง ุงูุฏุฑุณุ ุณูุชุนุฑู ุนูู ูุบุฉ ุงูุชูุณูู ุงูุชู ุชุฌุนู ุตูุญุงุช ุงูููุจ ุฌูููุฉ ูุฌุฐุงุจุฉ. CSS (Cascading Style Sheets) ูู ุงููุบุฉ ุงููุณุคููุฉ ุนู ุชุญุฏูุฏ ูุธูุฑ ูุชูุณูู ุนูุงุตุฑ HTML.</p>
                            <p><strong>๐จ ูุงุฐุง ุณุชุชุนูู:</strong></p>
                            <ul>
                                <li><strong>ูุง ูู CSS:</strong> ููู ุฏูุฑ ูุฃูููุฉ CSS ูู ุชุทููุฑ ุงูููุจ.</li>
                                <li><strong>ุทุฑู ุฅุถุงูุฉ CSS:</strong> ุงูุทุฑู ุงููุฎุชููุฉ ูุฅุถุงูุฉ ุชูุณููุงุช ุฅูู ุตูุญุงุช HTML (Inline, Internal, External).</li>
                                <li><strong>ุจูุงุก ุฌููุฉ CSS:</strong> ููู ุจููุฉ ููุงุนุฏ CSS (ุงููุญุฏุฏุงุชุ ุงูุฎุตุงุฆุตุ ูุงูููู).</li>
                                <li><strong>ุงููุญุฏุฏุงุช ุงูุฃุณุงุณูุฉ:</strong> ุงุณุชุฎุฏุงู ูุญุฏุฏุงุช ุงูุนูุงุตุฑุ ุงูุฃุตูุงูุ ูุงููุนุฑูุงุช.</li>
                                <li><strong>ุชูุณูู ุงููุตูุต:</strong> ุชุบููุฑ ุงููููุ ุงูุญุฌูุ ุงูุฎุทุ ูุงููุญุงุฐุงุฉ ูููุตูุต.</li>
                                <li><strong>ุงูุฎูููุงุช:</strong> ุฅุถุงูุฉ ุฃููุงู ูุตูุฑ ุฎูููุฉ ููุนูุงุตุฑ.</li>
                                <li><strong>ุงูุญุฏูุฏ ูุงูููุงูุด:</strong> ุงูุชุญูู ูู ุญุฏูุฏ ุงูุนูุงุตุฑ ูุงููุณุงูุงุช ุญูููุง.</li>
                            </ul>
                            <p>ุจุญููู ููุงูุฉ ูุฐุง ุงูุฏุฑุณุ ุณุชููู ูุงุฏุฑูุง ุนูู ุฅุถุงูุฉ ุชูุณููุงุช ุฃุณุงุณูุฉ ูุตูุญุงุช HTML ูุชุญููููุง ูู ุตูุญุงุช ุจุณูุทุฉ ุฅูู ุตูุญุงุช ุฌุฐุงุจุฉ ูููุธูุฉ.</p>
                        `
                    }
                ]
            }
        ],
        state: {
            streak: 0,
            lastCheckDate: null,
            notes: {},
            htmlCode: '',
            cssCode: ''
        }
    };

    // --- DOM ELEMENTS ---
    const darkModeToggle = document.getElementById('darkModeToggle');
    const lessonsList = document.getElementById('lessonsList');
    
    // Code Playground Elements
    const outputFrame = document.getElementById('output-frame');
    const editorTabs = document.querySelectorAll('.editor-tab');

    // --- HELPER FUNCTIONS ---
    function showNotification(message, duration = 4000) {
        const notification = document.createElement('div');
        notification.style.cssText = `
            position: fixed; top: 20px; left: 50%; transform: translateX(-50%);
            background-color: var(--secondary-color); color: white; padding: 15px 25px;
            border-radius: 10px; z-index: 1001; font-size: 1.1rem; box-shadow: var(--shadow);
            opacity: 0; transition: opacity 0.3s;
        `;
        notification.textContent = message;
        document.body.appendChild(notification);
        
        setTimeout(() => notification.style.opacity = '1', 100);
        setTimeout(() => {
            notification.style.opacity = '0';
            setTimeout(() => notification.remove(), 300);
        }, duration);
    }

    // --- LOCAL STORAGE MANAGEMENT ---
    function saveState() {
        localStorage.setItem('webDevQuestState', JSON.stringify(app.state));
    }

    function loadState() {
        const savedState = localStorage.getItem('webDevQuestState');
        if (savedState) {
            app.state = { ...app.state, ...JSON.parse(savedState) };
        }
    }

    // --- CORE FUNCTIONS ---
    function initializeApp() {
        loadState();
        applyTheme();
        renderModules();
        updateStreak();
        initializeCodePlayground();
    }

    function renderModules() {
        lessonsList.innerHTML = '';
        
        app.modules.forEach(module => {
            const moduleCard = document.createElement('div');
            moduleCard.className = 'module-card';
            
            const completedLessons = module.lessons.filter(lesson => 
                isLessonFullyCompleted(lesson.id)
            ).length;
            
            const moduleProgress = Math.round((completedLessons / module.lessons.length) * 100);
            
            moduleCard.innerHTML = `
                <div class="module-header">
                    <div class="module-title">
                        <i class="fas ${module.icon}"></i>
                        <span>${module.title}</span>
                    </div>
                    <button class="module-toggle">
                        <i class="fas fa-chevron-down"></i>
                    </button>
                </div>
                <div class="module-progress">
                    <div class="module-progress-bar" style="width: ${moduleProgress}%"></div>
                </div>
                <div class="module-content">
                    <!-- Lessons will be added here -->
                </div>
            `;
            
            const moduleContent = moduleCard.querySelector('.module-content');
            
            module.lessons.forEach(lesson => {
                const lessonCard = createLessonCard(lesson);
                moduleContent.appendChild(lessonCard);
            });
            
            // Toggle module content
            const moduleToggle = moduleCard.querySelector('.module-toggle');
            moduleToggle.addEventListener('click', () => {
                moduleContent.classList.toggle('show');
                moduleToggle.querySelector('i').classList.toggle('fa-chevron-down');
                moduleToggle.querySelector('i').classList.toggle('fa-chevron-up');
            });
            
            // Show first module by default
            if (module.id === 'm1') {
                moduleContent.classList.add('show');
                moduleToggle.querySelector('i').classList.remove('fa-chevron-down');
                moduleToggle.querySelector('i').classList.add('fa-chevron-up');
            }
            
            lessonsList.appendChild(moduleCard);
        });
    }

    function createLessonCard(lesson) {
        const lessonCard = document.createElement('div');
        const isFullyCompleted = isLessonFullyCompleted(lesson.id);
        lessonCard.className = `lesson-card ${isFullyCompleted ? 'completed' : ''}`;
        
        lessonCard.innerHTML = `
            <div class="lesson-header">
                <div class="lesson-title">
                    <i class="fas fa-chevron-down"></i>
                    <span>${lesson.title}</span>
                </div>
                <div class="lesson-links">
                    <a href="${lesson.videoLink}" target="_blank" class="lesson-link-btn video">
                        <i class="fas fa-play"></i> ููุฏูู
                    </a>
                    <a href="${lesson.quizLink}" target="_blank" class="lesson-link-btn quiz">
                        <i class="fas fa-question-circle"></i> ุงุฎุชุจุงุฑ
                    </a>
                </div>
            </div>
            <div class="lesson-body">
                <div class="lesson-tasks">
                    <label class="task-item">
                        <input type="checkbox" id="video-${lesson.id}" ${localStorage.getItem(`video-${lesson.id}`) === 'true' ? 'checked' : ''}>
                        <i class="fas fa-play"></i>
                        <span>ุดุงูุฏุช ุงูููุฏูู</span>
                    </label>
                    <label class="task-item">
                        <input type="checkbox" id="quiz-${lesson.id}" ${localStorage.getItem(`quiz-${lesson.id}`) === 'true' ? 'checked' : ''}>
                        <i class="fas fa-question-circle"></i>
                        <span>ุงุฌุชุฒุช ุงูุงุฎุชุจุงุฑ</span>
                    </label>
                </div>
                <div class="task-section">
                    <div class="task-header">
                        <i class="fas fa-list-ul"></i>
                        <span>ูุญุชูู ุงูุฏุฑุณ</span>
                    </div>
                    <div class="task-description">${lesson.content}</div>
                </div>
                <div class="lesson-notes-section">
                    <div class="lesson-notes-header">
                        <i class="fas fa-sticky-note"></i>
                        <span>๐ ููุงุญุธุงุชู</span>
                    </div>
                    <textarea class="lesson-notes-textarea" id="notes-${lesson.id}" placeholder="ุงูุชุจ ููุงุญุธุงุชู ูุงุณุชูุชุงุฌุงุชู ููุง...">${app.state.notes[lesson.id] || ''}</textarea>
                </div>
            </div>
        `;

        // Event Listeners
        const lessonHeader = lessonCard.querySelector('.lesson-header');
        const videoCheckbox = lessonCard.querySelector(`#video-${lesson.id}`);
        const quizCheckbox = lessonCard.querySelector(`#quiz-${lesson.id}`);
        const notesTextarea = lessonCard.querySelector(`#notes-${lesson.id}`);

        // Toggle lesson body
        lessonHeader.addEventListener('click', (e) => {
            // Prevent toggle if clicking on a link
            if (e.target.closest('.lesson-links')) return;
            
            const lessonBody = lessonCard.querySelector('.lesson-body');
            const icon = lessonCard.querySelector('.lesson-title i');
            
            lessonBody.classList.toggle('show');
            icon.classList.toggle('fa-chevron-down');
            icon.classList.toggle('fa-chevron-up');
            
            // Special handling for mobile to ensure notes section is visible
            if (window.innerWidth <= 480 && lessonBody.classList.contains('show')) {
                setTimeout(() => {
                    const notesSection = lessonCard.querySelector('.lesson-notes-section');
                    if (notesSection) {
                        notesSection.style.display = 'block';
                        notesSection.style.visibility = 'visible';
                        notesSection.style.opacity = '1';
                        notesSection.style.height = 'auto';
                    }
                }, 300);
            }
        });

        videoCheckbox.addEventListener('change', () => handleTaskCompletion(lesson.id, 'video', videoCheckbox.checked));
        quizCheckbox.addEventListener('change', () => handleTaskCompletion(lesson.id, 'quiz', quizCheckbox.checked));
        notesTextarea.addEventListener('input', () => handleNoteChange(lesson.id, notesTextarea.value));

        return lessonCard;
    }

    function handleTaskCompletion(lessonId, taskType, isChecked) {
        localStorage.setItem(`${taskType}-${lessonId}`, isChecked);
        
        if (isChecked) {
            showNotification(`๐ ุฃุญุณูุช! ุชู ุฅููุงู ุงููููุฉ ุจูุฌุงุญ!`);
        }
        
        checkLessonCompletion(lessonId);
        updateModuleProgress(lessonId);
        saveState();
    }

    function handleNoteChange(lessonId, noteText) {
        app.state.notes[lessonId] = noteText;
        saveState();
    }

    function isLessonFullyCompleted(lessonId) {
        return localStorage.getItem(`video-${lessonId}`) === 'true' &&
               localStorage.getItem(`quiz-${lessonId}`) === 'true';
    }

    function checkLessonCompletion(lessonId) {
        const lessonCard = document.querySelector(`.lesson-card:has(#quiz-${lessonId})`);
        if (lessonCard) {
            if (isLessonFullyCompleted(lessonId)) {
                lessonCard.classList.add('completed');
                showNotification(`๐ ูุจุฑูู! ููุฏ ุฃูููุช ุฌููุน ููุงู ูุฐุง ุงูุฏุฑุณ!`);
            } else {
                lessonCard.classList.remove('completed');
            }
        }
    }

    function updateModuleProgress(lessonId) {
        const module = app.modules.find(m => 
            m.lessons.some(l => l.id === lessonId)
        );
        
        if (module) {
            const moduleCard = document.querySelector(`.module-card:has(#quiz-${lessonId})`);
            if (moduleCard) {
                const completedLessons = module.lessons.filter(l => 
                    isLessonFullyCompleted(l.id)
                ).length;
                
                const moduleProgress = Math.round((completedLessons / module.lessons.length) * 100);
                moduleCard.querySelector('.module-progress-bar').style.width = `${moduleProgress}%`;
            }
        }
    }

    function updateStreak() {
        const today = new Date().toDateString();
        if (app.state.lastCheckDate !== today) {
            const yesterday = new Date();
            yesterday.setDate(yesterday.getDate() - 1);
            
            if (app.state.lastCheckDate === yesterday.toDateString()) {
                app.state.streak++;
                showNotification(`๐ฅ ุณูุณูุฉ ุงูุชุนูู ุงููุชุชุงููุฉ: ${app.state.streak} ุฃูุงู!`);
            } else {
                app.state.streak = 1;
            }
            app.state.lastCheckDate = today;
        }
    }
    
    // --- PROFESSIONAL CODE PLAYGROUND LOGIC ---
    let editor;

    function initializeCodePlayground() {
        editor = CodeMirror.fromTextArea(document.getElementById('code-editor'), {
            value: app.state.htmlCode,
            mode: 'htmlmixed',
            theme: 'one-dark',
            lineNumbers: true,
            autoCloseBrackets: true,
            matchBrackets: true,
            extraKeys: {"Ctrl-/": "toggleComment"},
            direction: "ltr" // Force LTR for editor content
        });

        // Set initial content
        editor.setValue(app.state.htmlCode);

        // Tab switching logic
        editorTabs.forEach(tab => {
            tab.addEventListener('click', () => {
                const mode = tab.getAttribute('data-mode');
                
                // Update active tab styling
                editorTabs.forEach(t => t.classList.remove('active'));
                tab.classList.add('active');

                // Save current content and switch mode
                if (editor.getOption('mode') === 'htmlmixed') {
                    app.state.htmlCode = editor.getValue();
                } else {
                    app.state.cssCode = editor.getValue();
                }
                
                editor.setOption('mode', mode);
                editor.setValue(mode === 'htmlmixed' ? app.state.htmlCode : app.state.cssCode);
            });
        });

        // Update output on change
        editor.on('change', updateOutput);

        // Initial render
        updateOutput();
    }

    function updateOutput() {
        const currentMode = editor.getOption('mode');
        if (currentMode === 'htmlmixed') {
            app.state.htmlCode = editor.getValue();
        } else {
            app.state.cssCode = editor.getValue();
        }
        
        const output = `
            <!DOCTYPE html>
            <html lang="ar" dir="rtl">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <style>
                    ${app.state.cssCode}
                </style>
            </head>
            <body>
                ${app.state.htmlCode}
            </body>
            </html>
        `;
        
        outputFrame.srcdoc = output;
        saveState();
    }

    // --- THEME & UI FEATURES ---
    function applyTheme() {
        const savedTheme = localStorage.getItem('theme') || 'light';
        if (savedTheme === 'dark') {
            document.documentElement.setAttribute('data-theme', 'dark');
            darkModeToggle.innerHTML = '<i class="fas fa-sun"></i>';
        }
    }

    darkModeToggle.addEventListener('click', () => {
        const currentTheme = document.documentElement.getAttribute('data-theme');
        const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
        document.documentElement.setAttribute('data-theme', newTheme);
        localStorage.setItem('theme', newTheme);
        darkModeToggle.innerHTML = newTheme === 'dark' ? '<i class="fas fa-sun"></i>' : '<i class="fas fa-moon"></i>';
    });

    // --- INITIALIZE ---
    initializeApp();
});
</script>

</body>
</html>
